(this["webpackJsonppokedex-react"]=this["webpackJsonppokedex-react"]||[]).push([[0],{24:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(26),c=a.n(o),s=(a(38),a(39),a(40),a.p+"static/media/logo.2b9a0803.svg"),r=a(1),p=function(){return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{className:"logo-container",children:Object(r.jsx)("a",{href:"/pokedex-react",children:Object(r.jsx)("img",{className:"logo",src:s,alt:"pokedex"})})})})},l=a(11),u=(a(24),a(5)),d=a.n(u),m=a(10),h=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("API Error");case 5:return e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j={searchPokemon:function(e){return h(e||"https://pokeapi.co/api/v2/pokemon?offset=0&limit=9000")},getEachPokemonData:function(e){return h(e)},getPokemonById:function(e){return h("https://pokeapi.co/api/v2/pokemon/".concat(e))}},f=a(9),k=a(18),b=Object(n.createContext)();b.displayName="Cache";var g=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_CACHE":return Object(f.a)(Object(f.a)({},e),{},Object(k.a)({},n.key,n.value));default:return e}};function x(e){var t=e.children,a=Object(n.useReducer)(g,JSON.parse(localStorage.getItem("POKEAPI_CACHE"))||{}),i=Object(l.a)(a,2),o=i[0],c=i[1];return Object(n.useEffect)((function(){var e=JSON.stringify(o);localStorage.setItem("POKEAPI_CACHE",e)}),[o]),Object(r.jsx)(b.Provider,{value:{state:o,dispatch:c},children:t})}function O(e,t){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(d.a.mark((function e(t,a){var n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=0;case 2:if(!(i<a.types.length)){e.next=10;break}return e.next=5,t(a.types[i].type.url);case 5:o=e.sent,n.push({id:o.id,name:o.names[4].name});case 7:i++,e.next=2;break;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(d.a.mark((function e(t,a){var n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=0;case 2:if(!(i<a.abilities.length)){e.next=10;break}return e.next=5,t(a.abilities[i].ability.url);case 5:o=e.sent,n.push({id:o.id,name:o.names[5].name});case 7:i++,e.next=2;break;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(d.a.mark((function e(t,a){var n,i,o,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a.species.url);case 2:return n=e.sent,e.next=5,t(n.evolution_chain.url);case 5:return i=e.sent,o=[],e.next=9,t("https://pokeapi.co/api/v2/pokemon/".concat(i.chain.species.name));case 9:if(c=e.sent,o.push({id:c.id,name:c.name,image:c.sprites.other["official-artwork"].front_default||c.sprites.front_default}),!(i.chain.evolves_to.length>0)){e.next=21;break}return e.next=14,t("https://pokeapi.co/api/v2/pokemon/".concat(i.chain.evolves_to[0].species.name));case 14:if(s=e.sent,o.push({id:s.id,name:s.name,image:s.sprites.other["official-artwork"].front_default||s.sprites.front_default}),!(i.chain.evolves_to[0].evolves_to.length>0)){e.next=21;break}return e.next=19,t("https://pokeapi.co/api/v2/pokemon/".concat(i.chain.evolves_to[0].evolves_to[0].species.name));case 19:r=e.sent,o.push({id:r.id,name:r.name,image:r.sprites.other["official-artwork"].front_default||r.sprites.front_default});case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C={loading:!1,data:null,error:null},T=function(e,t){var a=t.type,n=t.payload;switch(a){case"INITIAL":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:null,error:null});case"LOAD":return Object(f.a)(Object(f.a)({},e),{},{loading:!0,data:null,error:null});case"SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:n,error:null});case"FAILURE":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:null,error:n});default:return e}};var E=a(27),S=a(13),A=a(28),I=function(e){return Object(r.jsx)("input",{className:"search-bar",type:"text",name:"searchBar",id:"search-bar",onChange:e.onChange})},P=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],c=function(e,t,a,i){var o=Object(n.useContext)(b),c=Object(n.useReducer)(T,C),s=Object(l.a)(c,2),r=s[0],p=s[1];return Object(n.useEffect)((function(){if(!o.state[a]){var n=setTimeout(Object(m.a)(d.a.mark((function n(){var i,c,s,r,l,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=30;break}return p({type:"LOAD"}),n.prev=2,i=[],c=[],n.next=7,e();case 7:s=n.sent,r=s.results.filter((function(e){return e.name.includes(a)})),l=r.slice(0,15),u=0;case 11:if(!(u<l.length)){n.next=21;break}return n.t0=c,n.next=15,t(r[u].url);case 15:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),i.push({id:c[u].id,name:c[u].name,image:c[u].sprites.other["official-artwork"].front_default||c[u].sprites.front_default});case 18:u++,n.next=11;break;case 21:p({type:"SUCCESS",payload:i}),o.dispatch({type:"SET_CACHE",payload:{key:a,value:i}}),n.next=28;break;case 25:n.prev=25,n.t2=n.catch(2),p({type:"FAILURE",payload:n.t2});case 28:n.next=31;break;case 30:p({type:"INITIAL"});case 31:case"end":return n.stop()}}),n,null,[[2,25]])}))),i);return function(){clearTimeout(n)}}p({type:"SUCCESS",payload:o.state[a]})}),[e,o,t,a,i]),r}(j.searchPokemon,j.getEachPokemonData,a,500),s=c.data,p=c.error,u=c.loading,h=0;return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)("div",{className:"search-bar-container",children:[Object(r.jsx)(E.a,{icon:A.a,className:"icon"}),Object(r.jsx)(I,{onChange:function(e){return o(e.target.value.toLowerCase().match(/^[A-Za-z-]+/))},value:a})]}),u&&Object(r.jsx)("p",{children:"Cargando"}),s&&Object(r.jsx)("div",{className:"wrapper search-results-container",children:s.map((function(e){return Object(r.jsxs)("div",{className:"pokemon-"+ ++h+" result-pokemon-container",children:[Object(r.jsx)("img",{src:e.image,alt:e.name,width:"100%",height:"100%"}),Object(r.jsx)("div",{className:"result-pokemon-caption",children:Object(r.jsx)(S.b,{to:"/pokemon/".concat(e.id),children:Object(r.jsx)("p",{children:e.name})})})]},e.id)}))}),p&&Object(r.jsx)("div",{children:p})]})},F=a(3),L=a(30),H=(a(49),{Acero:"https://static.wikia.nocookie.net/espokemon/images/d/d9/Tipo_acero.gif",Agua:"https://static.wikia.nocookie.net/espokemon/images/9/94/Tipo_agua.gif",Bicho:"https://static.wikia.nocookie.net/espokemon/images/f/fe/Tipo_bicho.gif",Dragon:"https://static.wikia.nocookie.net/espokemon/images/0/01/Tipo_drag%C3%B3n.gif","El\xe9ctrico":"https://static.wikia.nocookie.net/espokemon/images/1/1b/Tipo_el%C3%A9ctrico.gif",Fantasma:"https://static.wikia.nocookie.net/espokemon/images/4/47/Tipo_fantasma.gif",Fuego:"https://static.wikia.nocookie.net/espokemon/images/c/ce/Tipo_fuego.gif",Hada:"https://static.wikia.nocookie.net/espokemon/images/b/bc/Tipo_hada.gif",Hielo:"https://static.wikia.nocookie.net/espokemon/images/4/40/Tipo_hielo.gif",Lucha:"https://static.wikia.nocookie.net/espokemon/images/b/b7/Tipo_lucha.gif",Normal:"https://static.wikia.nocookie.net/espokemon/images/3/32/Tipo_normal.gif",Planta:"https://static.wikia.nocookie.net/espokemon/images/d/d6/Tipo_planta.gif","Ps\xedquico":"https://static.wikia.nocookie.net/espokemon/images/1/15/Tipo_ps%C3%ADquico.gif",Roca:"https://static.wikia.nocookie.net/espokemon/images/e/e0/Tipo_roca.gif",Siniestro:"https://static.wikia.nocookie.net/espokemon/images/8/82/Tipo_siniestro.gif",Tierra:"https://static.wikia.nocookie.net/espokemon/images/1/1d/Tipo_tierra.gif",Veneno:"https://static.wikia.nocookie.net/espokemon/images/1/10/Tipo_veneno.gif",Volador:"https://static.wikia.nocookie.net/espokemon/images/e/e1/Tipo_volador.gif","???":"https://static.wikia.nocookie.net/espokemon/images/5/5d/Tipo_%3F%3F%3F.gif"});function D(e){return(e/10).toFixed(1)}var U=function(){var e=Object(F.f)().id,t=function(e,t,a,i){var o=Object(n.useReducer)(T,C),c=Object(l.a)(o,2),s=c[0],r=c[1],p=Object(n.useContext)(b);return Object(n.useEffect)((function(){if(!p.state[a]){var n=setTimeout(Object(m.a)(d.a.mark((function n(){var i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=31;break}return r({type:"LOAD"}),n.prev=2,n.next=5,t(a);case 5:return i=n.sent,n.t0=i.id,n.t1=i.name,n.t2=i.height,n.t3=i.weight,n.t4=i.sprites.other["official-artwork"].front_default||i.sprites.front_default,n.next=13,O(e,i);case 13:return n.t5=n.sent,n.next=16,w(e,i);case 16:return n.t6=n.sent,n.next=19,_(e,i);case 19:n.t7=n.sent,o={id:n.t0,name:n.t1,height:n.t2,weight:n.t3,image:n.t4,tipos:n.t5,habilidades:n.t6,evoluciones:n.t7},console.log(o),r({type:"SUCCESS",payload:o}),p.dispatch({type:"SET_CACHE",payload:{key:a,value:o}}),n.next=29;break;case 26:n.prev=26,n.t8=n.catch(2),r({type:"FAILURE",payload:n.t8});case 29:n.next=32;break;case 31:r({type:"INITIAL"});case 32:case"end":return n.stop()}}),n,null,[[2,26]])}))),i);return function(){clearTimeout(n)}}r({type:"SUCCESS",payload:p.state[a]})}),[e,p,t,a,i]),s}(j.searchPokemon,j.getPokemonById,e,500),a=t.data,i=t.error;return t.loading?Object(r.jsx)("p",{children:"Cargando"}):i?"Something went wrong":a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"results-container",children:[Object(r.jsx)("div",{className:"pokemon-div",children:Object(r.jsxs)("div",{className:"result-pokemon-container pokemon-photo-container",children:[Object(r.jsx)("img",{className:"pokemon-img",src:a.image,alt:a.name}),Object(r.jsx)("div",{className:"result-pokemon-caption",children:Object(r.jsxs)("p",{children:[a.name," N\xb0",a.id]})})]})}),Object(r.jsxs)("div",{className:"pokemon-divtwo",children:[Object(r.jsxs)("div",{className:"result-pokemon-container pokemon-data-container",children:[Object(r.jsx)("div",{className:" pokemon-body-container",children:Object(r.jsxs)("div",{className:"pokemon-info pokemon-body-info",children:[Object(r.jsxs)("span",{children:["Altura: ",D(a.height)," m"]}),Object(r.jsxs)("span",{children:["Peso: ",D(a.weight)," kg"]})]})}),Object(r.jsx)("div",{className:"pokemon-types-container",children:Object(r.jsx)("div",{className:"pokemon-types",children:a.tipos.map((function(e){return Object(r.jsx)("img",{className:"type-img",src:H[e.name],alt:e.name},e.id)}))})})]}),Object(r.jsxs)("div",{className:"result-pokemon-container pokemon-data-container",children:[Object(r.jsx)("h2",{className:"section-title",children:"Habilidades"}),Object(r.jsx)("div",{className:"pokemon-body-container",children:Object(r.jsx)("div",{className:"pokemon-info pokemon-body-info",children:a.habilidades.map((function(e){return Object(r.jsx)("span",{children:e.name},e.id)}))})})]})]})]}),Object(r.jsx)("h1",{className:"section-title",children:"Evoluciones"}),Object(r.jsx)("div",{className:"result-pokemon-container slide-container",children:Object(r.jsx)(L.a,{activeIndex:0,threshHold:100,transition:.5,scaleOnDrag:!1,children:a.evoluciones.map((function(e){return Object(r.jsx)("div",{className:"slide-caption-image",children:Object(r.jsx)("img",{src:e.image,alt:e.name},e.id)},e.id)}))})}),Object(r.jsx)("div",{className:"evolutions-container",children:a.evoluciones.map((function(e){return Object(r.jsx)("div",{className:"result-pokemon-container",children:Object(r.jsx)("img",{className:"evolution-img",src:e.image,alt:e.name},e.id)},e.id)}))})]}):null};a(50);var R=function(){return Object(r.jsx)(x,{children:Object(r.jsx)(S.a,{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(p,{}),Object(r.jsxs)(F.c,{children:[Object(r.jsx)(F.a,{path:["/home","/","/pokedex-react"],exact:!0,children:Object(r.jsx)(P,{})}),Object(r.jsx)(F.a,{path:"/pokemon/:id",children:Object(r.jsx)(U,{})})]})]})})})};c.a.render(Object(r.jsx)(R,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ee91b379.chunk.js.map