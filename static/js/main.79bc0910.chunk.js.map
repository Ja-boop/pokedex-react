{"version":3,"sources":["components/header/logo/logo.svg","components/header/Header.js","pokeapi.js","CacheContext.js","hooks/services/getPokemonData.js","hooks/useFetchWithCache.js","components/pokemonSearch/PokemonSearch.js","components/pokemonSearch/Pokemon.js","App.js","index.js"],"names":["Header","Fragment","className","href","src","logo","alt","getResource","resourceUrl","a","fetch","response","ok","Error","json","pokeapi","searchPokemon","url","getEachPokemonData","getPokemonById","id","CacheContext","createContext","displayName","cacheReducer","state","action","type","payload","key","value","CacheProvider","children","useReducer","JSON","parse","localStorage","getItem","dispatch","useEffect","serializedState","stringify","setItem","Provider","getPokemonTypes","resource","POKEMON_TYPES","i","types","length","push","name","names","getPokemonAbilities","POKEMON_ABILITIES","abilities","ability","abilitie","getEvoChain","species","evolution_chain","evolutionChain","POKEMON_EVOLUTION_CHAIN","chain","firstChain","image","sprites","other","front_default","evolves_to","secondChain","thirdChain","initialState","loading","data","error","fetchReducer","SearchBar","props","onChange","placeholder","PokemonSearch","useState","searchTerm","setSearchTerm","fetchResource","fetchIdResource","param","timeout","cache","useContext","timeoutId","setTimeout","POKEMON_DATA","pokemones","filterPokemones","results","filter","pokemon","includes","slicePokemones","slice","clearTimeout","useDebouncedFetch","icon","faSearch","e","target","toLowerCase","match","map","result","width","height","to","POKEMON_TIPOS","insertDecimal","num","toFixed","Pokemon","useParams","weight","tipos","habilidades","evoluciones","console","log","useDebouncedFetchOnlyId","tipo","habilidad","activeIndex","threshHold","transition","scaleOnDrag","evolucion","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79bc0910.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2b9a0803.svg\";","import React from 'react';\r\nimport './header.css';\r\nimport logo from './logo/logo.svg'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <React.Fragment>\r\n        <div className=\"logo-container\">\r\n            <a href=\"/pokedex-react\">\r\n                <img className=\"logo\" src={logo} alt=\"pokedex\" ></img>\r\n            </a>\r\n        </div>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Header;\r\n","const BASE_URL = 'https://pokeapi.co/api/v2/pokemon?offset=0&limit=9000';\r\n\r\nconst getResource = async (resourceUrl) => {\r\n    const response = await fetch(resourceUrl);\r\n    if(!response.ok) {\r\n        throw new Error('API Error');\r\n    }\r\n\r\n    return response.json();\r\n};\r\n\r\nconst pokeapi = {\r\n    searchPokemon: (url) => \r\n        getResource(url || BASE_URL),\r\n    getEachPokemonData: (url) => getResource(url),\r\n    getPokemonById: (id) => getResource(`https://pokeapi.co/api/v2/pokemon/${id}`)\r\n};\r\n\r\nexport default pokeapi;\r\n","import React, { useEffect, useReducer, createContext } from \"react\";\r\n\r\nexport const CacheContext = createContext();\r\nCacheContext.displayName = 'Cache';\r\n\r\nconst cacheReducer = (state, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case 'SET_CACHE':\r\n            return {\r\n                ...state,\r\n                [payload.key]: payload.value,\r\n            };\r\n        default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport function CacheProvider({ children }) {\r\n    const [state, dispatch] = useReducer(\r\n        cacheReducer,\r\n        JSON.parse(localStorage.getItem('POKEAPI_CACHE')) || {},\r\n    );\r\n\r\n    useEffect(() => {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('POKEAPI_CACHE', serializedState);\r\n    }, [state]);\r\n\r\n    return <CacheContext.Provider value={{ state, dispatch }}>{children}</CacheContext.Provider>;\r\n};\r\n","async function getPokemonTypes(getResource, resource) {\r\n    const POKEMON_TYPES = [];\r\n\r\n    for (let i = 0; i < resource.types.length; i++) {\r\n        const type = await getResource(resource.types[i].type.url);\r\n        POKEMON_TYPES.push({ id: type.id, name: type.names[4].name })\r\n    }\r\n\r\n    return POKEMON_TYPES;\r\n}\r\n\r\nasync function getPokemonAbilities(getResource, resource) {\r\n    const POKEMON_ABILITIES = [];\r\n\r\n    for (let i = 0; i < resource.abilities.length; i++) {\r\n        const abilitie = await getResource(resource.abilities[i].ability.url);\r\n        POKEMON_ABILITIES.push({ id: abilitie.id, name: abilitie.names[5].name });\r\n    }\r\n\r\n    return POKEMON_ABILITIES;\r\n}\r\n\r\nasync function getEvoChain(getResource, resource) {\r\n    const species = await getResource(resource.species.url);\r\n    const evolutionChain = await getResource(species.evolution_chain.url);\r\n\r\n    const POKEMON_EVOLUTION_CHAIN = [];\r\n    const firstChain = await getResource(`https://pokeapi.co/api/v2/pokemon/${evolutionChain.chain.species.name}`);\r\n\r\n    POKEMON_EVOLUTION_CHAIN.push({ id: firstChain.id, name: firstChain.name, image: firstChain.sprites.other['official-artwork'].front_default || firstChain.sprites.front_default })\r\n\r\n    if (evolutionChain.chain.evolves_to.length > 0) {\r\n        const secondChain = await getResource(`https://pokeapi.co/api/v2/pokemon/${evolutionChain.chain.evolves_to[0].species.name}`)\r\n        POKEMON_EVOLUTION_CHAIN.push({ id: secondChain.id, name: secondChain.name, image: secondChain.sprites.other['official-artwork'].front_default || secondChain.sprites.front_default })\r\n\r\n        if (evolutionChain.chain.evolves_to[0].evolves_to.length > 0) {\r\n            const thirdChain = await getResource(`https://pokeapi.co/api/v2/pokemon/${evolutionChain.chain.evolves_to[0].evolves_to[0].species.name}`)\r\n            POKEMON_EVOLUTION_CHAIN.push({ id: thirdChain.id, name: thirdChain.name, image: thirdChain.sprites.other['official-artwork'].front_default || thirdChain.sprites.front_default })\r\n        }\r\n    }\r\n\r\n    return POKEMON_EVOLUTION_CHAIN;\r\n}\r\n\r\nexport { getPokemonTypes, getPokemonAbilities, getEvoChain };","import { useEffect, useReducer, useContext } from 'react';\r\nimport { CacheContext } from '../CacheContext';\r\nimport { getPokemonTypes, getPokemonAbilities, getEvoChain } from './services/getPokemonData.js';\r\n\r\nconst initialState = { loading: false, data: null, error: null };\r\n\r\nconst fetchReducer = (state, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case 'INITIAL':\r\n            return { ...state, loading: false, data: null, error: null };\r\n        case 'LOAD':\r\n            return { ...state, loading: true, data: null, error: null };\r\n        case 'SUCCESS':\r\n            return { ...state, loading: false, data: payload, error: null };\r\n        case 'FAILURE':\r\n            return { ...state, loading: false, data: null, error: payload };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const useDebouncedFetch = (fetchResource, fetchIdResource, param, timeout) => {\r\n    const cache = useContext(CacheContext);\r\n    const [state, dispatch] = useReducer(fetchReducer, initialState);\r\n\r\n    // Quise separar el proceso de hacer el objeto POKEMON_DATA en una funcion aparte, pero me hacia el objeto 15 veces al llamar a la funcion \r\n\r\n    useEffect(() => {\r\n        if (cache.state[param]) {\r\n            dispatch({ type: 'SUCCESS', payload: cache.state[param] });\r\n            return;\r\n        };\r\n\r\n        const timeoutId = setTimeout(async () => {\r\n            if (param) {\r\n                dispatch({ type: 'LOAD' });\r\n                try {\r\n                    const POKEMON_DATA = [];\r\n                    let pokemones = [];\r\n\r\n                    const resource = await fetchResource();\r\n                    const filterPokemones = resource.results.filter(pokemon => {\r\n                        return pokemon.name.includes(param)\r\n                    })\r\n\r\n                    const slicePokemones = filterPokemones.slice(0, 15);\r\n\r\n                    for (let i = 0; i < slicePokemones.length; i++) {\r\n                        pokemones.push(await fetchIdResource(filterPokemones[i].url))\r\n\r\n                        POKEMON_DATA.push({\r\n                            id: pokemones[i].id,\r\n                            name: pokemones[i].name,\r\n                            image: pokemones[i].sprites.other['official-artwork'].front_default || pokemones[i].sprites.front_default,\r\n                        });\r\n                    }\r\n                    \r\n                    dispatch({ type: 'SUCCESS', payload: POKEMON_DATA });\r\n                    cache.dispatch({ type: 'SET_CACHE', payload: { key: param, value: POKEMON_DATA } });\r\n                } catch (error) {\r\n                    dispatch({ type: 'FAILURE', payload: error });\r\n                }\r\n            } else {\r\n                dispatch({ type: 'INITIAL' }) // Si pongo initialState, no limpia la pagina al borrar lo escrito en el buscador de pokemones\r\n            }\r\n\r\n        }, timeout);\r\n        return () => {\r\n            clearTimeout(timeoutId);\r\n        }\r\n    }, [fetchResource, cache, fetchIdResource, param, timeout]);\r\n\r\n    return state;\r\n};\r\n\r\nexport function useInstantFetch(fetchResource, fetchIdResource, param) {\r\n    const cache = useContext(CacheContext);\r\n    const [state, dispatch] = useReducer(fetchReducer, initialState);\r\n\r\n    useEffect(() => {\r\n        if (cache.state[param]) {\r\n            dispatch({ type: 'SUCCESS', payload: cache.state[param] });\r\n            return;\r\n        };\r\n\r\n        const fetch = async () => {\r\n            dispatch({ type: 'LOAD' });\r\n            try {\r\n                let pokemones = [];\r\n                const resource = await fetchResource();\r\n                const filterPokemones = resource.results.filter(pokemon => {\r\n                    return pokemon.name.includes(param)\r\n                })\r\n\r\n                const slicePokemones = filterPokemones.slice(0, 15);\r\n\r\n                for (let i = 0; i < slicePokemones.length; i++) {\r\n                    pokemones.push(await fetchIdResource(filterPokemones[i].url))\r\n                }\r\n\r\n                dispatch({ type: 'SUCCESS', payload: pokemones });\r\n                cache.dispatch({ type: 'SET_CACHE', payload: { key: param, value: pokemones } });\r\n            } catch (error) {\r\n                dispatch({ type: 'FAILURE', payload: error });\r\n            }\r\n        };\r\n        fetch();\r\n    }, [param, cache, fetchResource, fetchIdResource]);\r\n\r\n    return state;\r\n};\r\n\r\nexport const useDebouncedFetchOnlyId = (getResource, fetchIdResource, param, timeout) => {\r\n    const [state, dispatch] = useReducer(fetchReducer, initialState);\r\n    const cache = useContext(CacheContext);\r\n\r\n    useEffect(() => {\r\n        if (cache.state[param]) {\r\n            dispatch({ type: 'SUCCESS', payload: cache.state[param] });\r\n            return;\r\n        };\r\n\r\n\r\n        const timeoutId = setTimeout(async () => {\r\n            if (param) {\r\n                dispatch({ type: 'LOAD' });\r\n                try {\r\n                    const resource = await fetchIdResource(param);\r\n                    const POKEMON_DATA = {\r\n                        id: resource.id,\r\n                        name: resource.name,\r\n                        height: resource.height,\r\n                        weight: resource.weight,\r\n                        image: resource.sprites.other['official-artwork'].front_default || resource.sprites.front_default,\r\n                        tipos: await getPokemonTypes(getResource, resource),\r\n                        habilidades: await getPokemonAbilities(getResource, resource),\r\n                        evoluciones: await getEvoChain(getResource, resource),\r\n                    }\r\n\r\n                    console.log(POKEMON_DATA);\r\n\r\n                    dispatch({ type: 'SUCCESS', payload: POKEMON_DATA });\r\n                    cache.dispatch({ type: 'SET_CACHE', payload: { key: param, value: POKEMON_DATA } });\r\n                } catch (error) {\r\n                    dispatch({ type: 'FAILURE', payload: error });\r\n                }\r\n            } else {\r\n                dispatch({ type: 'INITIAL' })\r\n            }\r\n\r\n        }, timeout);\r\n        return () => {\r\n            clearTimeout(timeoutId);\r\n        }\r\n    }, [getResource, cache, fetchIdResource, param, timeout]);\r\n\r\n    return state;\r\n};\r\n","import React, { useState } from 'react';\r\nimport './pokemonSearch.css';\r\nimport pokeapi from '../../pokeapi';\r\nimport { useDebouncedFetch } from '../../hooks/useFetchWithCache';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst SearchBar = (props) => {\r\n    return (\r\n        <input className=\"search-bar pokeball-border\"\r\n            type=\"text\"\r\n            name=\"searchBar\"\r\n            id=\"search-bar\"\r\n            onChange={props.onChange}\r\n            placeholder=\"¡Busca a tu pokemon preferido y haz click en su nombre!\"\r\n        />\r\n    )\r\n};\r\n\r\nconst PokemonSearch = () => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const { data, error, loading } = useDebouncedFetch(pokeapi.searchPokemon, pokeapi.getEachPokemonData, searchTerm, 500);\r\n    let i = 0;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"search-bar-container\">\r\n                <FontAwesomeIcon icon={faSearch} className=\"icon\" />\r\n                <SearchBar onChange={(e) => setSearchTerm(e.target.value.toLowerCase().match(/^[A-Za-z-]+/))} value={searchTerm} />\r\n            </div>\r\n            {loading && <p>Cargando</p>}\r\n            {data && (\r\n                <div className=\"wrapper search-results-container\">\r\n                    {data.map((result) => (\r\n                        <div className={\"pokemon-\" + ++i + \" result-pokemon-container pokeball-border\"} key={result.id}>\r\n                            <img src={result.image} alt={result.name} width=\"100%\" height=\"100%\" ></img>\r\n\r\n                            <div className=\"result-pokemon-caption\">\r\n                                <NavLink to={`/pokemon/${result.id}`}>\r\n                                    <p className=\"pokedex-paragraph\">{result.name}</p>\r\n                                </NavLink>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n            {error && <div>{error}</div>}\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default PokemonSearch;\r\n","import React from 'react';\r\nimport pokeapi from '../../pokeapi';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDebouncedFetchOnlyId } from '../../hooks/useFetchWithCache';\r\nimport Slider from 'react-touch-drag-slider';\r\nimport './pokemonSearch.css';\r\nimport './pokemon.css';\r\n\r\nconst POKEMON_TIPOS = {\r\n    'Acero': \"https://static.wikia.nocookie.net/espokemon/images/d/d9/Tipo_acero.gif\",\r\n    'Agua': \"https://static.wikia.nocookie.net/espokemon/images/9/94/Tipo_agua.gif\",\r\n    'Bicho': \"https://static.wikia.nocookie.net/espokemon/images/f/fe/Tipo_bicho.gif\",\r\n    'Dragon': \"https://static.wikia.nocookie.net/espokemon/images/0/01/Tipo_drag%C3%B3n.gif\",\r\n    'Eléctrico': \"https://static.wikia.nocookie.net/espokemon/images/1/1b/Tipo_el%C3%A9ctrico.gif\",\r\n    'Fantasma': \"https://static.wikia.nocookie.net/espokemon/images/4/47/Tipo_fantasma.gif\",\r\n    'Fuego': \"https://static.wikia.nocookie.net/espokemon/images/c/ce/Tipo_fuego.gif\",\r\n    'Hada': \"https://static.wikia.nocookie.net/espokemon/images/b/bc/Tipo_hada.gif\",\r\n    'Hielo': \"https://static.wikia.nocookie.net/espokemon/images/4/40/Tipo_hielo.gif\",\r\n    'Lucha': \"https://static.wikia.nocookie.net/espokemon/images/b/b7/Tipo_lucha.gif\",\r\n    'Normal': \"https://static.wikia.nocookie.net/espokemon/images/3/32/Tipo_normal.gif\",\r\n    'Planta': \"https://static.wikia.nocookie.net/espokemon/images/d/d6/Tipo_planta.gif\",\r\n    'Psíquico': \"https://static.wikia.nocookie.net/espokemon/images/1/15/Tipo_ps%C3%ADquico.gif\",\r\n    'Roca': \"https://static.wikia.nocookie.net/espokemon/images/e/e0/Tipo_roca.gif\",\r\n    'Siniestro': \"https://static.wikia.nocookie.net/espokemon/images/8/82/Tipo_siniestro.gif\",\r\n    'Tierra': \"https://static.wikia.nocookie.net/espokemon/images/1/1d/Tipo_tierra.gif\",\r\n    'Veneno': \"https://static.wikia.nocookie.net/espokemon/images/1/10/Tipo_veneno.gif\",\r\n    'Volador': \"https://static.wikia.nocookie.net/espokemon/images/e/e1/Tipo_volador.gif\",\r\n    '???': \"https://static.wikia.nocookie.net/espokemon/images/5/5d/Tipo_%3F%3F%3F.gif\",\r\n}\r\n\r\nfunction insertDecimal(num) {\r\n    return (num / 10).toFixed(1);\r\n}\r\n\r\nconst Pokemon = () => {\r\n    const { id } = useParams();\r\n    const { data, error, loading } = useDebouncedFetchOnlyId(pokeapi.searchPokemon, pokeapi.getPokemonById, id, 500);\r\n\r\n    if (loading) return <p>Cargando</p>;\r\n\r\n    if (error) return 'Something went wrong';\r\n\r\n    if (data)\r\n        return (\r\n            <>\r\n                <div className=\"results-container\">\r\n\r\n                    <div className=\"pokemon-div\">\r\n                        <div className=\"result-pokemon-container pokemon-photo-container pokeball-border\">\r\n                            <img className=\"pokemon-img\" src={data.image} alt={data.name} ></img>\r\n                            <div className=\"result-pokemon-caption\">\r\n                                <p className=\"pokedex-paragraph\">{data.name} N°{data.id}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pokemon-divtwo\">\r\n                        <div className=\"result-pokemon-container pokemon-data-container pokeball-border\">\r\n                            <div className=\" pokemon-body-container\">\r\n                                <div className=\"pokemon-info pokemon-body-info\">\r\n                                    <span>Altura: {insertDecimal(data.height)} m</span>\r\n\r\n                                    <span>Peso: {insertDecimal(data.weight)} kg</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"pokemon-types-container\">\r\n                                <div className=\"pokemon-types\">\r\n                                    {data.tipos.map(tipo => (\r\n                                        <img className=\"type-img\" src={POKEMON_TIPOS[tipo.name]} alt={tipo.name} key={tipo.id} />\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"result-pokemon-container pokemon-data-container pokeball-border\">\r\n\r\n                            <h2 className=\"section-title\" >Habilidades</h2>\r\n                            <div className=\"pokemon-body-container\">\r\n                                <div className=\"pokemon-info pokemon-body-info\">\r\n                                    {data.habilidades.map(habilidad => (\r\n                                        <span key={habilidad.id} >{habilidad.name}</span>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <h1 className=\"section-title\" >Evoluciones</h1>\r\n                <div className=\"result-pokemon-container slide-container pokeball-border\">\r\n\r\n                    <Slider\r\n                        activeIndex={0}\r\n                        threshHold={100}\r\n                        transition={0.5}\r\n                        scaleOnDrag={false}\r\n                    >\r\n                        {data.evoluciones.map(evolucion => (\r\n                            <div className=\"slide-caption-image\" key={evolucion.id}>\r\n                                <img src={evolucion.image} key={evolucion.id} alt={evolucion.name} />\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n\r\n                </div>\r\n\r\n                <div className=\"evolutions-container\">\r\n                    {data.evoluciones.map(evolucion => (\r\n                        <div className=\"result-pokemon-container pokeball-border\" key={evolucion.id} >\r\n                            <img className=\"evolution-img\" src={evolucion.image} key={evolucion.id} alt={evolucion.name} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    return null;\r\n\r\n\r\n};\r\n\r\nexport default Pokemon;\r\n","import './App.css';\r\nimport Header from './components/header/Header'\r\nimport PokemonSearch from './components/pokemonSearch/PokemonSearch';\r\nimport Pokemon from './components/pokemonSearch/Pokemon';\r\nimport { CacheProvider } from './CacheContext';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport '../src/components/mediaQueries/mediaQ.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <CacheProvider>\r\n      <Router>\r\n        <div className=\"container\">\r\n          <Header />\r\n          <Switch>\r\n            <Route path={[\"/home\", \"/\", \"/pokedex-react\"]} exact>\r\n              <PokemonSearch />\r\n            </Route>\r\n            <Route path=\"/pokemon/:id\">\r\n              <Pokemon />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </CacheProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root')\n);"],"sourceRoot":""}